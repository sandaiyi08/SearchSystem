<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mlxt.dao.PolicemanDao">

    <select id="findPolice" parameterType="String" resultType="com.mlxt.pojo.Policeman">
        <if test="account != null and account != '' and password != null and password != ''">
            select * from police_info where account = #{account} and password = #{password}
        </if>
    </select>
    
    <delete id="deletePolice" parameterType="String">
        <if test="account != null and account != ''">
            delete from police_info where account = #{account}
        </if>
    </delete>
    
    <select id="selectAllPolicemanList" resultType="com.mlxt.pojo.Policeman">
        select account,password from police_info
    </select>
    
    <select id="getPolicemanByAccount" parameterType="String" resultType="com.mlxt.pojo.Policeman">
        <if test="account != null and account != ''">
            select * from police_info where account = #{account}
        </if>
    </select>

    <insert id="insertPoliceman" parameterType="com.mlxt.pojo.Policeman">
        insert into police_info(
        <if test="account != null and account != ''">
            account,
        </if>
        <if test="password != null and password != ''">
            password
        </if>
        )value(
        <if test="account != null and account != ''">
            #{account},
        </if>
        <if test="password != null and password != ''">
            #{password}
        </if>
        )
    </insert>
    
    <select id="findOldman"  parameterType="com.mlxt.pojo.OldMan" resultType="com.mlxt.pojo.OldMan">
        select
            a.id a.name,
            a.address,
            a.img_path,
            b.fm_tel,
            b.fm_name 
        from old_info a,family_info b
        where a.id = b.om_id
     </select>

</mapper>